/**
* Copyright (c) 2022 - present TinyVue Authors.
* Copyright (c) 2022 - present Huawei Cloud Computing Technologies Co., Ltd.
*
* Use of this source code is governed by an MIT-style license.
*
* THE OPEN SOURCE SOFTWARE IN THIS PRODUCT IS DISTRIBUTED IN THE HOPE THAT IT WILL BE USEFUL,
* BUT WITHOUT ANY WARRANTY, WITHOUT EVEN THE IMPLIED WARRANTY OF MERCHANTABILITY OR FITNESS FOR
* A PARTICULAR PURPOSE. SEE THE APPLICABLE LICENSES FOR MORE DETAILS.
*
*/

@import '../base/basic-var.less';
@import '../custom.less';
@import '../mixins/hairline.less';
@import './vars.less';

@multi-select-prefix-cls: ~'@{css-prefix}mobile-multi-select';

.@{multi-select-prefix-cls} {
  .inject-MultiSelect-vars();

  position: relative;
  background: var(--tvm-MultiSelect-bg, #fff);
  width: 100%;
  border-radius: 0 0 16px 16px;

  &__header {
    position: relative;
    display: flex;
    justify-content: space-between;
    align-items: center;
    height: var(--tvm-MultiSelect-header-height);
    padding: 0 var(--tvm-MultiSelect-header-padding-horizontal);
    background: var(--tvm-MultiSelect-header-bg, #fff);
    border-bottom: 1px solid var(--tvm-MultiSelect-header-border-bottom-color);
    z-index: 100;

    &.is-disabled,
    & .item-disabled {
      .@{multi-select-prefix-cls}__header__label {
        color: var(--tvm-MultiSelect-header-text-color-disabled);
      }
      .@{multi-select-prefix-cls}__header__icon svg {
        fill: var(--tvm-MultiSelect-header-icon-color-disabled);
      }
    }

    &.show-search {
      padding-right: 0;
    }

    &.is-searching {
      height: 56px;
    }

    &-item-box {
      flex: 1;
      display: flex;
      justify-content: space-around;
      align-items: center;
      height: 100%;
      overflow-x: scroll;

      &::-webkit-scrollbar {
        display: none;
      }
    }

    &-item {
      display: flex;
      align-items: center;
      width: fix-content;
      height: 100%;
      margin-right: var(--tvm-MultiSelect-header-item-margin-right);
      background: var(--tvm-MultiSelect-header-item-bg);
      border-radius: 4px;
      padding: 5px 0;
      user-select: none;

      &:last-of-type {
        margin-right: 0;
      }
    }

    &__label {
      overflow: hidden;
      white-space: nowrap;
      text-overflow: ellipsis;
      word-break: break-all;
      font-size: var(--tvm-MultiSelect-header-label-font-size);
      font-weight: var(--tvm-MultiSelect-header-label-font-weight);
      color: var(--tvm-MultiSelect-header-label-text-color, #595959);
      line-height: 18px;
    }

    &__icon {
      margin-left: 4px;
      font-size: 0;
      transform-origin: center center;
      transition: all linear 0.3s;

      svg {
        fill: var(--tvm-MultiSelect-header-svg-fill-color);
        font-size: var(--tvm-MultiSelect-header-icon-font-size);
        vertical-align: text-bottom;
      }
    }

    &-search-icon {
      flex: 0 0 var(--tvm-MultiSelect-search-icon-width);
      height: 100%;
      display: flex;
      align-items: center;
      justify-content: center;
      box-shadow: 0 0 15px 0 rgba(0, 0, 0, 0.12);
    }

    &-search {
      flex: 1;
      margin: var(--tvm-space-2x) 0;
    }

    &-prefix-icon {
      fill: var(--tvm-color-text-placeholder);
      color: var(--tvm-color-text-placeholder);
      font-size: var(--tvm-font-size-l);
    }

    &-cancel-btn {
      flex: 0;
      white-space: nowrap;
      margin: 0 var(--tvm-space-6x) 0 var(--tvm-space-3x);
    }
  }

  &__content {
    position: absolute;
    top: 100%;
    left: 0;
    right: 0;
    z-index: 200;
    background-color: var(--tvm-MultiSelect-item-bg-color);
  }

  .noFooter {
    border-radius: 0 0 16px 16px;
  }

  &__option-list {
    max-height: var(--tvm-MultiSelect-option-list-max-height);
    overflow-y: scroll;
    box-shadow: var(--tvm-MultiSelect-option-list-shadow);
  }

  &__footer {
    height: 74px;
    padding: 16px;
    text-align: center;
    box-sizing: border-box;
    display: flex;
    justify-content: center;
    align-items: center;
    border-radius: 0 0 16px 16px;
    box-shadow: 0 -1px 3px 0 #f8f8f8;

    button {
      width: var(--tvm-MultiSelect-footer-width, 164px);
    }

    :first-child {
      margin-right: 15px;
    }

    .tiny-mobile-button--primary {
      color: var(--tvm-button-color, #fff);
      border-color: var(--tvm-base-color-brand-1, #4a79fe);
      background-color: var(--tvm-base-color-brand-1, #4a79fe);
    }

    .tiny-mobile-button--default {
      color: #191919;
    }
  }
}
